---
layout: "post"
title: "Landed Canvas drawWindow API"
date: "2005-05-20 09:31:00 +0000"
categories: "Mozilla"
permalink: "/2005/05/landed-canvas-drawwindow-api_20.html"
---
<div class="columns">I just checked the drawWindow API into trunk, so nightly builds and Deer Park will have it. Please test it out. I'm particularly interested in the results on the less popular platforms --- Mac, Linux on weird architectures, etc. I'm also interested in pages that render incorrectly via drawWindow. I know plugins won't work (except WMODE=transparent Flash should work) --- we can't fix that. File bugs on problems you find and CC me.</div><br/><br/>
<div class='comments'><h2>Comments</h2>
<div class='comment'>
<div class='author'>Robert O'Callahan</div>
<div class='content'>It&#39;s this:<br>http://weblogs.mozillazine.org/roc/archives/2005/05/rendering_web_p.html<br></div>
</div>
<div class='comment'>
<div class='author'>Hugh</div>
<div class='content'>The out-of-memeory problem happens on both Mac OS X and Windows XP. Do you need my test case?<br></div>
</div>
<div class='comment'>
<div class='author'>Hugh</div>
<div class='content'>I got such error from DeerPark alpha 1:<br>[Exception... &quot;Component returned failure code: 0x8007000e (NS_ERROR_OUT_OF_MEMORY) [nsIDOMCanvasRenderingContext2D.drawWindow]&quot;  nsresult: &quot;0x8007000e (NS_ERROR_OUT_OF_MEMORY)&quot;  location: &quot;JS frame :: chrome://catcher/content/thumbnail.js :: update :: line 23&quot;  data: no]<br>What&#39;s the trouble?<br></div>
</div>
<div class='comment'>
<div class='author'>Hugh</div>
<div class='content'>When I check this problem with lastest build, old problem is gone, but new problem comes(on Mac OS X 10.3).<br>[Exception... &quot;Component returned failure code: 0x80070057 (NS_ERROR_ILLEGAL_VALUE) [nsIDOMHTMLCanvasElement.getContext]&quot;  nsresult: &quot;0x80070057 (NS_ERROR_ILLEGAL_VALUE)&quot;  location: &quot;JS frame :: chrome://catcher/content/thumbnail.js :: update :: line 19&quot;  data: no]<br>but line 9 is:<br>var ctx=canvas.getContext(&quot;2d&quot;);<br>Is there anything wrong?<br></div>
</div>
<div class='comment'>
<div class='author'>marv</div>
<div class='content'>With this new API, someone could finally make an extension that mimics iRider&#39;s Page List navigation: http://www.irider.com/irider/index.htm#PageList<br>Thanks for adding this.<br></div>
</div>
<div class='comment'>
<div class='author'>Robert O'Callahan</div>
<div class='content'>Is it fixed in nightly builds?<br></div>
</div>
<div class='comment'>
<div class='author'>john.e.boy</div>
<div class='content'>Nice one!!<br></div>
</div>
<div class='comment'>
<div class='author'>Peter Lairo. Atheist. ExPat American. Mozilla tester.</div>
<div class='content'>What is (in layman&#39;s terms) the drawWindow API, and how would I recognize it?<br></div>
</div>

</div>