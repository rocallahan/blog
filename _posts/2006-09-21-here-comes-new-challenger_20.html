---
layout: "post"
title: "Here Comes A New Challenger!"
date: "2006-09-21 06:49:00 +0000"
categories: "Mozilla"
permalink: "/2006/09/here-comes-new-challenger_20.html"
---
<div class="columns">A friend pointed me at a <a href="http://www.slate.com/id/2149888/">very interesting article about the New York Times Reader</a>, which is based on the Windows Presentation Foundation. You should also read <a href="http://www.nytimes.com/membercenter/faq/timesreader.html">The Times' FAQ</a>. It fulfills my expectations that I blogged <a href="/2004/12/why_mozilla.html">about</a> <a href="/2005/06/avalon_lockdown.html">before</a>: a classy application that takes eyeballs away from the Web and back to a world fully under Microsoft's control.<br/><br/>Obviously we need to make it possible to do the same things in a Web page. As far as I can tell there are three sets of issues: offline access and layout. The rest of Reader's features could be implemented using existing Web technology, as an AJAX application (although XUL would help).<br/><br/>I believe the offline access issues are actually easier to solve; we're shipping part of a solution in Firefox 2 (<a href="http://www.whatwg.org/specs/web-apps/current-work/#scs-client-side">DOM Storage</a>). The other part of a solution is the ability to fetch and pin pages in the browser cache so sites can ensure they'll be available offline. I have <a href="http://groups.google.com/group/mozilla.dev.platform/browse_frm/thread/bf866101aa238773/a298294c27b9380a?lnk=gst&q=offline&rnum=1#a298294c27b9380a">a proposal for that</a>. It needs some work but doesn't seem to be a huge task to specify and implement.<br/><br/>The other issues are layout and rendering. Clearly there's a big emphasis on columns; fortunately Firefox does columns. Unfortunately our columns don't make it easy to create the sort of page-based UI I see in the screenshots. I think a possible approach would be to use XUL box layout to create the header/body/footer vertical arrangement (via CSS, no XUL elements), and make the body overflow and scroll to the right. Then modify the Gecko event code so that the pageup, pagedown, space, and arrow keys do the right thing (namely, scroll left by a page, scroll right by a page, scroll right by a page, and scroll by columns). This would require just a few code tweaks and no new style properties.<br/><br/>The page navigation bar in the footer could be easily implemented using script, onresize, and onscroll handlers, but I don't know if it's really useful.<br/><br/>The hardest issue that I can see in <a href="http://img.slate.com/media/1/123125/123019/2133636/2148184/2TimesReaderStory.jpg">the Mississippi screenshot</a>, where the image is on the right-hand side of the first page and spans columns. One way to achieve that here would be to allow column content to flow around floats outside the column flow. Then the article title and the image could be placed in left and right floats respectively and the column content flowing around them would produce the right effect. We could also add the ability for content in columns to flow around overflowing content from previous columns, which would let people put column-spanning objects in the column flow.<br/><br/>That still isn't enough to produce some common effects, such as figures at the top or bottom of a page. For those we will need CSS extensions. One possibility is to extend "float" with "column-top", "page-top", "column-bottom", and "page-bottom" values.<br/><br/>Another issue mentioned in the article is fonts and typography. I can't tell much from the screenshots but they don't appear to be using widow/orphan control, so it's probably about font rendering. We do desperately need a solution to font downloading. On the bright side, our current Gecko work will let us improve our story with kerning, ligatures and other font rendering issues.<br/><br/>Even if we can implement all these things, there's still the issue of how we get people to use them in their sites. Microsoft is very good at partnering with major companies to produce showcase applications like this NYT Reader. We need partnerships like that. You would think that certain major Web sites would be interested in pushing back...<br/><br/>Reading between the lines, though, there is a lot of hope for the Web. The application is a 20-minute download for XP users without WPF installed, and it apparently requires a trust decision from the user, so it's not for casual surfers. You will need to leave the Reader application to follow links to other sites or content that hasn't been reformatted for the Reader yet, and links to NYT stories from other sites probably won't open in Reader. The Web's hypherlinked nature give it a lot of gravity and it's hard to see that changing in the medium term. The NYT had to develop their own application with Microsoft's help and has to deal with its content being served out in a different way. If we can produce an experience comparable to Reader in the browser --- and especially if we can make it available as a set of easy, downward-compatible changes to existing sites --- I think we'll have an overall much more compelling user experience.</div><br/><br/>
<div class='comments'><h2>Comments</h2>
<div class='comment'>
<div class='author'>Rafael Gieschke</div>
<div class='content'>A lot of this is already possible in Gecko. In fact, I&#39;m using Firefox to produce a small local quarterly newspaper/magazine � mainly because of the great web integration you get for free by using a browser instead of some dtp tool. The hardest thing to solve was hyphenation but now it works quite well. As you correctly mention, spanning columns and widow/orphan control are still issues.<br></div>
</div>
<div class='comment'>
<div class='author'>Reb Yudel</div>
<div class='content'>It&#39;s great to see someone at Mozilla thinking about these issues. Too bad it took a decade... and the threat of Microsoft...<br></div>
</div>
<div class='comment'>
<div class='author'>Rafael</div>
<div class='content'>Folks at the SFGate (San Francisco Chronicle) would probably be a group that would be happy to do the same thing within the browser or maybe a XUL Runner version of the same app.<br>They&#39;ve got some ex-Netscape folks in there who could pull it off with some help.<br></div>
</div>
<div class='comment'>
<div class='author'>Jan!</div>
<div class='content'>Rafael, could you explain (hypens at moesen d0t nu) how you got proper hyphenation working? Thanks!<br></div>
</div>
<div class='comment'>
<div class='author'>Brandon Furtwangler</div>
<div class='content'>I&#39;m not sure looking at screenshots even does the NT Times Reader justice.  After playing with it I see a lot of fit-and-finish effects that don�t translate well to static images.  Things such as sliding transitions between pages, other subtle animations, and the amazing related article graph don�t necessarily add functional features but they do give the user a more appealing experience that has been very much lacking in even the best AJAX sites.<br>Regarding replicating this with Mozilla web technologies, I dont think its a matter of &#39;can this be done&#39;, but rather &#39;how much effort would it take&#39;.<br></div>
</div>
<div class='comment'>
<div class='author'>Ilya Konstantinov</div>
<div class='content'>roc, while the layouting deficiencies you cover are important to address, you&#39;re missing the big picture. Larger than the promise Avalon brings to users -- is the promise it brings to developers. Avalon / XAML get instant karma merely from the fact that it&#39;s in the .NET universe; our platform is in the XUL universe, but the XUL universe isn&#39;t nearly as solid (and large) as .NET.<br></div>
</div>
<div class='comment'>
<div class='author'>Robert O'Callahan</div>
<div class='content'>Ilya: no, I&#39;m talking about the Web, not XUL.<br></div>
</div>
<div class='comment'>
<div class='author'>arielb</div>
<div class='content'>Even Microsoft isn&#39;t capable of taking control and AOL&#39;izing the web. If Mozilla can show that kind of layout on the web without a special reader, Microsoft will be at a tremendous disadvantage. They lose the advantage of IE preinstalled on desktops and IE7 doesn&#39;t compare with Firefox at all when it comes to layout.<br>if this is our challenge, we&#39;re in pretty good shape!<br></div>
</div>
<div class='comment'>
<div class='author'>Andrew Hilton</div>
<div class='content'>Current web standards (CSS, HTML, AJAX) will not cut it in this competition.  You need markup (preferably compilable) designed specifically for applications to compete.  XUL may be in this space (I&#39;m not that familiar with it).  Hopefully Apple comes out with their own version and doesn&#39;t keep playing the standards game.  Trying to compete using web standards in this space will not work - they are too slow and the technology is outdated (css is a fine example).<br>We need competing application frameworks based on XML that are deliverable over the web.  I don&#39;t believe web standards are the answer in moving to the next version of the web. If competing designs do not come out against WPF then MS will win once again.<br>With XML at least you have more hope of conversion between frameworks, particularly if competing players all embrace a standard comms layer (ie web services).  Yes this is a long shot but my guess is that with technologies such as WPF, the trend will be more markup and less code.<br>IMO the only possible bright light is Apple.  The Linux world is too fragmented to produce one united XML based framework, and no-one seems to think this is important anyway.<br></div>
</div>

</div>