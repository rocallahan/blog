---
layout: "post"
title: "Interesting Developments In Program Recording"
date: "2008-10-02 12:58:00 +0000"
categories: "Chronicle"
permalink: "/2008/10/interesting-developments-in-program_02.html"
---
<div class="columns"><p>A few interesting developments tangentially related to Chronicle have emerged in the last week or so.<br/><p>VMWare developers have announced <a href="http://sourceforge.net/mailarchive/forum.php?thread_name=BAY103-W4642373BA0DDCC8326A9A0AA420%40phx.gbl&forum_name=valgrind-developers">Valgrind-RR</a>, syscall-level record and replay for Valgrind. The idea is to isolate and record all sources of nondeterminism --- syscall results, CPU timer results, thread scheduling, etc --- so you can play back the execution deterministically to get the same results, but in Valgrind with other Valgrind tools turned on. This is great stuff. It actually complements Chronicle very well, because you could run your program first with Valgrind-RR, with less than 10X overhead (going by their numbers), and then rerun under Chronicle with higher overhead but guaranteed to get the same execution. So this would make Chronicle more useful for interactive programs.<br/><p>VMWare has also announced <a href="http://blogs.vmware.com/vmtn/2008/08/introducing-rep.html">improved replay</a> for their VM record-and-replay functionality. That's cool, but what's especially interesting is that their Valgrind announcement hinted at possible future integration of Valgrind replay with VM recording. That's really the ultimate scenario for Chronicle: record your app in a VM at less than 2X overhead, then replay under Chronicle instrumentation at your leisure for an awesome debugging experience. You could even parallelize the replay under Chronicle to reduce that overhead by throwing hardware at it.<br/><p>Another piece of excitement is that a partial port of Valgrind to Mac <a href="http://sourceforge.net/mailarchive/forum.php?thread_name=20080928152119.14416.qmail%40kaazh.pair.com&forum_name=valgrind-developers">has been announced</a>. I haven't tried it myself, but people say it can run Firefox opt builds and is close to being able to run Firefox debug builds. This means that at some point I'll probably be able to get Chronicle running on Mac!</div><br/><br/>