---
layout: "post"
title: "Auckland Web Meetup Recap"
date: "2011-06-25 02:06:00 +0000"
categories: "Mozilla"
permalink: "/2011/06/auckland-web-meetup-recap_24.html"
---
<div class="columns"><p>Yesterday night I went to the Auckland Web Meetup at the Telecom building. Nice building! Apparently there were 180 people there.<br/><p>The first talk was about a task management Web app that some local people are building; that seems like a hard market to crack.<br/><p>The second talk was about optimizing CSS, HTML and JS for page load times. It was interesting to see what Web developers are telling each other. Most of the suggestions were good, but there was some advice to put external script loads as late in the HTML page as possible. That probably made sense in older engines -- it let other resources start loading without having to wait for scripts to load. However, modern engines can speculatively parse past a &lt;script src&gt; element before it finishes loading, so these days it's probably best to put external script loads as early in the HTML page as possible.<br/><p>Then there was a break and a bit of a scrum for pizza :-).<br/><p>Then it was my turn. My plan was to show a few modern HTML games, explain the technologies behind them, discuss the current browser support landscape and related issues, and then talk about missing features and future APIs that may address those features. I didn't have time to prepare any slides; I only had notes listing topics I wanted to cover. I think it went pretty well anyway.<br/><p>The demo sites were <a href="http://www.pirateslovedaisies.com/"><em>Pirates Love Daisies</em></a>, <a href="http://chrome.angrybirds.com/?version=sd&renderer=canvas"><em>the 2d-canvas version of Angry Birds</em></a> (the "HD" WebGL version doesn't seem to work in Firefox trunk; I think it may have been broken by the same-origin texture loading restriction), and <a href="http://media.tojicode.com/q3bsp/"><em>Quake 3 WebGL</em></a>. I had no network and one thing that became immediately obvious was that these games don't work well offline :-).<br/><p><em>Pirates</em> and <em>Angry Birds</em> use 2D &lt;canvas&gt;, which benefits from acceleration in Firefox and IE9, and there's not much else to say about that for now.<br/><p><em>Pirates</em> and <em>Quake 3</em> use HTML &lt;audio&gt;, and both provide Ogg files. <em>Angry Birds</em> uses MP3 played by Flash, for various reasons but probably partly because <a href="http://www.phoboslab.org/log/2011/03/the-state-of-html5-audio">Chrome's &lt;audio&gt; support has some problems</a>. I talked a bit about the codec issues, including out-loud wondering why everyone can't at least ship support for Ogg Vorbis, since it's a good format that is very widely used (including even by Microsoft, in some products), without encountering patent problems. <a href="http://jsmad.org">JSMad</a> is an interesting approach: decode audio in JS. (This was a good time to talk about how JS engines are so much faster at manipulating binary data now, especially Spidermonkey and JM/TM.)  The equivalent of JSMad for Vorbis would be an interesting way to support Vorbis on uncooperative browsers. When MP3 decoding comes out of patent coverage (Real Soon Now), we should implement in Firefox in a hurry, and that will also help developers by providing a decent (albeit not as good as Vorbis) baseline audio codec.<br/><p>I went on to talk about WebGL and the issues around it. Microsoft seems to be resisting it for now, ostensibly due to security issues but I take that with a grain of salt due to Silverlight supporting a very similar 3D API with the exact same issues. I think WebGL will win and Microsoft once again will have to follow the lead of the other Web browsers. Nigel Parker from Microsoft did point out that Apple are <a href="https://www.khronos.org/webgl/public-mailing-list/archives/1106/msg00036.html">backing off</a> making WebGL fully available on iOS, although why is anybody's guess.<br/><p>An interesting feature that I didn't know about until recently is that <em>Pirates</em> supports touch events; apparently because IE9 supports touch events on Windows tablets, which I also didn't know until Nigel pointed it out last night. Nigel had been such a good sport while I carped about Microsoft that I had to give Microsoft enthusiastic credit for supporting touch events already.<br/><p>I went on to talk about future APIs: audio effects APIs, basically repeating what I said on my blog recently; full-screen APIs; and communications APIs --- Websockets and upcoming RTC work.<br/><p>During this talk I grumbled to the audience about the attention browser vendors get for pushing out half-baked new APIs compared to the attention they get for doing a really good implementation of an API. Web developers tend to be a lot more excited about the former than the latter, which encourages browser developers to do more of the former at the expense of the latter. For the sake of the Web we should all try to change that.<br/><p>At the end of the talk I asked the audience to give feedback on features they need that we didn't talk about. The first request was "text-overflow:ellipsis", so I was able to answer "landed yesterday; next?" :-). (I'll write more about text-overflow later; it's a good example of the issue in the previous paragraph.) Another request was DRM for Web video. That's a really difficult topic and I didn't have much to say. Someone asked for Mobile Firefox on the iPhone, which is another difficult topic and outside the scope of my talk, but I did give me a chance to rant a little bit :-). OK, to be fair the whole talk was a bit ranty :-).<br/><p>Anyway, it was a ton of fun and I hope the audience had as much fun as I did, and hopefully learned something too :-).</div><br/><br/>
<div class='comments'><h2>Comments</h2>
<div class='comment'>
<div class='author'>Aryeh Gregor</div>
<div class='content'>Even though browsers speculatively parse for the purpose of resource loads, they still won&#39;t start actually rendering past the script until the script has finished execution, right?  So even if the script does nothing much on execution, you still have to wait for it to download and parse before the user can see or interact with the page.  The performance win from scripts at the bottom is clearly going to be less in modern browsers, but I&#39;d think it&#39;s still there.<br></div>
</div>
<div class='comment'>
<div class='author'>Robert O'Callahan</div>
<div class='content'>Yeah, but you can&#39;t fire the &#39;load&#39; event until those scripts have run so the time until that event runs gets worse if you put your scripts late in the page.<br>I told the speaker about  of course.<br></div>
</div>
<div class='comment'>
<div class='author'>Felipe Gomes</div>
<div class='content'>It&#39;s not true that IE9 supports touch events on desktop. I can&#39;t get it to work or find any evidence of the opposite on the internet. It&#39;s available only through Silverlight.<br></div>
</div>
<div class='comment'>
<div class='author'>Robert O'Callahan</div>
<div class='content'>Felipe: OK, interesting!<br></div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>Well, since people requesting a feature seems to get it on the radar: how about &quot;absence of DRM for web video&quot;?  I consider that a feature, which browsers already include in their shipping versions, and I&#39;d like the existing feature preserved. :)<br></div>
</div>
<div class='comment'>
<div class='author'>Mike Cochrane</div>
<div class='content'>You also mentioned, in passing, pdf.js as another example of manipulating binary data. http://andreasgal.com/2011/06/15/pdf-js/<br>Thanks for an awesome talk.<br></div>
</div>
<div class='comment'>
<div class='author'>Nigel Parker</div>
<div class='content'>Felipe wrote - It&#39;s not true that IE9 supports touch events on desktop. I can&#39;t get it to work or find any evidence of the opposite on the internet. It&#39;s available only through Silverlight.<br>I did some digging on this... IE9 itself supports touch events, pinch zoom, flick left/ right to navigate forward/ back etc but these aren&#39;t bubbled up to the web via an api like they are in Silverlight.<br>Sorry about the confusion, Nigel<br></div>
</div>

</div>