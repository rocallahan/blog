---
layout: "post"
title: "rr 5.0 Released"
date: "2017-09-07 04:39:00 +0000"
categories: "rr Mozilla"
permalink: "/2017/09/rr-50-released.html"
---
<p>I've released <a href="https://github.com/mozilla/rr/releases/tag/5.0.0">rr 5.0</a>. Kyle convinced me that trace stability and portability were worth a major version bump.
<p>Release notes:
<ul>
<li>Introduction of Cap'n Proto to <a href="http://robert.ocallahan.org/2017/08/stabilizing-rr-trace-format.html">stabilize the trace format</a>. Recordings created in this rr release should be replayable in any future rr release. This is a <em>plan</em>, not a <em>promise</em>, since we don't know what might happen in the future, but I'm hopeful.
<li>New <a href="http://robert.ocallahan.org/2017/06/new-rr-pack-command.html"><code>rr pack</code></a> command makes recordings self-contained.
<li>Packed recordings from one machine can be replayed on a different machine by <a href="http://robert.ocallahan.org/2017/09/rr-trace-portability.html">trapping CPUID instructions</a> when supported on the replay machine. We don't have much experience with this yet but so far so good.
<li><a href="http://robert.ocallahan.org/2017/07/selecting-compression-algorithm-for-rr.html">Brotli compression</a> for smaller traces and lower recording overhead.
<li>Improvements to the <tt>rr</tt> command-line arguments to ease <a href="https://github.com/mozilla/rr/wiki/Using-rr-in-an-IDE">debugger/IDE integration</a>. <tt>rr replay</tt> now accepts a <tt>--</tt> argument; all following arguments are passed to the debugger verbatim. Also, the bare <tt>rr</tt> command is now smarter about choosing a default subcommand; if the following argument is a directory, the default subcommand is <tt>replay</tt>, otherwise it is <tt>record</tt>.
<li>Performance improvements, especially for pathological cases with lots of switching to and from the rr supervisor process.
<li>Syscall support expanded.
<li>Many bugs fixed.
</ul>
<p>Enjoy!